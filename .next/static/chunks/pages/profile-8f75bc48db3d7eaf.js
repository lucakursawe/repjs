(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9134:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(7870)}])},7870:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var l=t(5893),a=t(7294),r=t(4053),n=t(6495);function c(){let e=(0,r.useUser)(),s=(0,r.useSupabaseClient)(),[t,c]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{e?d():o(!1)},[e]);let d=async()=>{let{data:t,error:l}=await s.from("e1rm").select("*").eq("user_id",e.id);l?console.error("Error fetching calculations:",l):c(t),o(!1)};return e?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen py-8 bg-white",children:[(0,l.jsxs)("h2",{className:"text-5xl font-extrabold mb-8 text-black",children:["Welcome, ",e.email,"!"]})," ",(0,l.jsxs)("div",{className:"bg-white shadow-xl rounded-lg px-10 pt-8 pb-10 mb-4 max-w-lg w-full",children:[(0,l.jsxs)("h4",{className:"text-lg font-semibold text-black mb-4",children:["Total calculations: ",t.length]})," ",i?(0,l.jsx)("p",{className:"text-black",children:"Loading..."}):0===t.length?(0,l.jsx)("p",{className:"text-black",children:"No calculations found."}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.x1,{data:{labels:t.map(e=>new Date(e.created_at).toLocaleDateString()),datasets:[{label:"E1RM Progression",data:t.map(e=>e.e1rm),fill:!0,borderColor:"black",tension:.1}]}}),(0,l.jsx)("ul",{children:t.map(e=>(0,l.jsx)("li",{className:"mb-4 p-4 bg-white rounded-lg shadow-sm",children:(0,l.jsxs)("div",{className:"popover-container",children:[(0,l.jsxs)("p",{className:"cursor-pointer",children:[(0,l.jsx)("strong",{className:"text-primary-orange",children:"Date:"})," ",new Date(e.created_at).toLocaleString()]}),(0,l.jsxs)("div",{className:"popover-content",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{className:"text-primary-orange",children:"E1RM (kg):"})," ",e.e1rm]})," ",(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{className:"text-primary-orange",children:"Weight (kg):"})," ",e.weightKg]})," ",(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{className:"text-primary-orange",children:"Reps:"})," ",e.reps]})," ",(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{className:"text-primary-orange",children:"RPE:"})," ",e.rpe]})," "]})]})},e.id))})]})]})]}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen py-8 bg-white",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-black",children:"Please log in to view your profile."})," "]})}t(9085)}},function(e){e.O(0,[196,606,888,774,179],function(){return e(e.s=9134)}),_N_E=e.O()}]);